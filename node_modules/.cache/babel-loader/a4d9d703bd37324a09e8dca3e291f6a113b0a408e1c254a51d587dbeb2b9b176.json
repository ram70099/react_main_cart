{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import useCart from'../Fetch/Count';import CartModal from'../Cart/CartModal';import Order from'../Cart/Order';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TopBar(){const[wishlistCount,setWishlistCount]=useState(0);const[searchQuery,setSearchQuery]=useState('');const[searchResults,setSearchResults]=useState([]);const[isCartOpen,setIsCartOpen]=useState(false);const[isOrderOpen,setIsOrderOpen]=useState(false);const[search,setSearch]=useState(false);const{cartItems,orderItemsCount,loading}=useCart();const cartCount=cartItems.length;const orderCount=orderItemsCount.length;const navigate=useNavigate();useEffect(()=>{localStorage.setItem('count',cartCount);localStorage.setItem('order',orderCount);},[cartCount,orderCount]);const handleSearch=async e=>{e.preventDefault();if(!searchQuery.trim())return;try{const response=await axios.get(`https://ram.freelogomaker.in/public/api/products/search?search=${searchQuery}`);setSearchResults(response.data);localStorage.setItem('search',JSON.stringify(response.data));setSearch(true);navigate('/search');}catch(error){console.error('Error fetching search results:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row bg-secondary py-2 px-xl-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 d-none d-lg-block\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-inline-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted px-2\",children:\"|\"}),/*#__PURE__*/_jsx(\"a\",{className:\"text-dark\",href:\"/contact\",children:\"Contact\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted px-2\",children:\"|\"}),/*#__PURE__*/_jsx(\"a\",{className:\"text-dark\",href:\"#\",children:\"About\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center py-3 px-xl-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3 d-none d-lg-block\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"text-decoration-none\",children:/*#__PURE__*/_jsxs(\"h1\",{className:\"m-0 display-5 font-weight-semi-bold\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-primary font-weight-bold border px-3 mr-1\",children:\"E\"}),\"Shopper\"]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 col-6 text-left\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSearch,children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search for products\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value)}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"input-group-text bg-transparent text-primary\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-search\"})})})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-3 col-6 text-right\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsOrderOpen(true),className:\"btn border\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-box-open text-primary\"}),/*#__PURE__*/_jsx(\"span\",{className:\"badge order-badge\",children:orderCount>0?orderCount:''})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsCartOpen(true),className:\"btn border\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shopping-cart text-primary\"}),/*#__PURE__*/_jsx(\"span\",{className:\"badge cart-badge\",children:cartCount>0?cartCount:''})]})]})]}),isCartOpen&&/*#__PURE__*/_jsx(CartModal,{isOpen:isCartOpen,onClose:()=>setIsCartOpen(false)}),isOrderOpen&&/*#__PURE__*/_jsx(Order,{isOpen:isOrderOpen,onClose:()=>setIsOrderOpen(false)})]});}export default TopBar;","map":{"version":3,"names":["React","useState","useEffect","axios","useCart","CartModal","Order","useNavigate","jsx","_jsx","jsxs","_jsxs","TopBar","wishlistCount","setWishlistCount","searchQuery","setSearchQuery","searchResults","setSearchResults","isCartOpen","setIsCartOpen","isOrderOpen","setIsOrderOpen","search","setSearch","cartItems","orderItemsCount","loading","cartCount","length","orderCount","navigate","localStorage","setItem","handleSearch","e","preventDefault","trim","response","get","data","JSON","stringify","error","console","className","children","href","onSubmit","type","placeholder","value","onChange","target","onClick","isOpen","onClose"],"sources":["C:/Users/Ram/Desktop/React/Projects/React_shoping_cart/src/Shoping_cart/common/Topbar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport useCart from '../Fetch/Count';\r\nimport CartModal from '../Cart/CartModal';\r\nimport Order from '../Cart/Order';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction TopBar() {\r\n  const [wishlistCount, setWishlistCount] = useState(0);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [isCartOpen, setIsCartOpen] = useState(false);\r\n  const [isOrderOpen, setIsOrderOpen] = useState(false);\r\n  const [search, setSearch] = useState(false);\r\n\r\n  const { cartItems, orderItemsCount, loading } = useCart();\r\n\r\n  const cartCount = cartItems.length;\r\n  const orderCount = orderItemsCount.length;\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('count', cartCount);\r\n    localStorage.setItem('order', orderCount);\r\n  }, [cartCount, orderCount]);\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n    if (!searchQuery.trim()) return;\r\n    try {\r\n      const response = await axios.get(`https://ram.freelogomaker.in/public/api/products/search?search=${searchQuery}`);\r\n      setSearchResults(response.data);\r\n      localStorage.setItem('search', JSON.stringify(response.data));\r\n      setSearch(true);\r\n      navigate('/search');\r\n    } catch (error) {\r\n      console.error('Error fetching search results:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row bg-secondary py-2 px-xl-5\">\r\n        <div className=\"col-lg-6 d-none d-lg-block\">\r\n          <div className=\"d-inline-flex align-items-center\">\r\n            <span className=\"text-muted px-2\">|</span>\r\n            <a className=\"text-dark\" href=\"/contact\">Contact</a>\r\n            <span className=\"text-muted px-2\">|</span>\r\n            <a className=\"text-dark\" href=\"#\">About</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row align-items-center py-3 px-xl-5\">\r\n        <div className=\"col-lg-3 d-none d-lg-block\">\r\n          <a href=\"/\" className=\"text-decoration-none\">\r\n            <h1 className=\"m-0 display-5 font-weight-semi-bold\">\r\n              <span className=\"text-primary font-weight-bold border px-3 mr-1\">E</span>Shopper\r\n            </h1>\r\n          </a>\r\n        </div>\r\n        <div className=\"col-lg-6 col-6 text-left\">\r\n          <form onSubmit={handleSearch}>\r\n            <div className=\"input-group\">\r\n              <input \r\n                type=\"text\" \r\n                className=\"form-control\" \r\n                placeholder=\"Search for products\" \r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n              />\r\n              <div className=\"input-group-append\">\r\n                <button type=\"submit\" className=\"input-group-text bg-transparent text-primary\">\r\n                  <i className=\"fa fa-search\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div className=\"col-lg-3 col-6 text-right\">\r\n          <button \r\n            onClick={() => setIsOrderOpen(true)} \r\n            className=\"btn border\"\r\n          >\r\n            <i className=\"fas fa-box-open text-primary\"></i>\r\n            <span className=\"badge order-badge\">{orderCount > 0 ? orderCount : ''}</span> \r\n          </button>\r\n          <button \r\n            onClick={() => setIsCartOpen(true)}  \r\n            className=\"btn border\"\r\n          >\r\n            <i className=\"fas fa-shopping-cart text-primary\"></i>\r\n            <span className=\"badge cart-badge\">{cartCount > 0 ? cartCount : ''}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {isCartOpen && <CartModal isOpen={isCartOpen} onClose={() => setIsCartOpen(false)} />}\r\n      {isOrderOpen && <Order isOpen={isOrderOpen} onClose={() => setIsOrderOpen(false)} />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TopBar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}