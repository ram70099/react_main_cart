{"ast":null,"code":"import{useState,useEffect}from'react';function useFetchProducts(categoryId){const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const token=localStorage.getItem('token');const url=categoryId?`https://ram.freelogomaker.in/public/api/products/category?categoryId=${categoryId}`:'https://ram.freelogomaker.in/api/products';fetch(url,{headers:{'Authorization':`Bearer ${token}`}}).then(response=>response.json()).then(data=>{setProducts(data.products);setLoading(false);}).catch(err=>{setError(err);setLoading(false);});},[categoryId]);return{products,loading,error};}export default useFetchProducts;","map":{"version":3,"names":["useState","useEffect","useFetchProducts","categoryId","products","setProducts","loading","setLoading","error","setError","token","localStorage","getItem","url","fetch","headers","then","response","json","data","catch","err"],"sources":["C:/Users/DECENT/Desktop/react/React_shoping_cart/src/Shoping_cart/Fetch/Product.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nfunction useFetchProducts(categoryId) {\r\n    const [products, setProducts] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem('token');\r\n        const url = categoryId \r\n            ? `https://ram.freelogomaker.in/public/api/products/category?categoryId=${categoryId}`\r\n            : 'https://ram.freelogomaker.in/api/products';\r\n\r\n        fetch(url, {\r\n            headers: { 'Authorization': `Bearer ${token}` },\r\n        })\r\n            .then((response) => response.json())\r\n            .then((data) => {\r\n                setProducts(data.products);\r\n                setLoading(false);\r\n            })\r\n            .catch((err) => {\r\n                setError(err);\r\n                setLoading(false);\r\n            });\r\n    }, [categoryId]);\r\n\r\n    return { products, loading, error };\r\n}\r\n\r\nexport default useFetchProducts;\r\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAE3C,QAAS,CAAAC,gBAAgBA,CAACC,UAAU,CAAE,CAClC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGL,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACM,OAAO,CAAEC,UAAU,CAAC,CAAGP,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAS,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,GAAG,CAAGV,UAAU,CAChB,wEAAwEA,UAAU,EAAE,CACpF,2CAA2C,CAEjDW,KAAK,CAACD,GAAG,CAAE,CACPE,OAAO,CAAE,CAAE,eAAe,CAAE,UAAUL,KAAK,EAAG,CAClD,CAAC,CAAC,CACGM,IAAI,CAAEC,QAAQ,EAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,EAAK,CACZd,WAAW,CAACc,IAAI,CAACf,QAAQ,CAAC,CAC1BG,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CACDa,KAAK,CAAEC,GAAG,EAAK,CACZZ,QAAQ,CAACY,GAAG,CAAC,CACbd,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CACV,CAAC,CAAE,CAACJ,UAAU,CAAC,CAAC,CAEhB,MAAO,CAAEC,QAAQ,CAAEE,OAAO,CAAEE,KAAM,CAAC,CACvC,CAEA,cAAe,CAAAN,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}