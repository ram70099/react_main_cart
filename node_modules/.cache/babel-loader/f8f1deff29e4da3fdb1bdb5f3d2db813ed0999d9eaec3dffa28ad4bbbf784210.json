{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import useCart from'../Fetch/Count';// Import the custom hook\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TopBar(){const[wishlistCount,setWishlistCount]=useState(0);const[searchQuery,setSearchQuery]=useState('');const[searchResults,setSearchResults]=useState([]);// Using the custom hook to fetch the cart count and order count\nconst{cartItems,orderItemsCount,loading}=useCart();const cartCount=cartItems.length;// Get cart count from the custom hook\nconst orderCount=orderItemsCount.length;// Get order count from the custom hook\nuseEffect(()=>{// Set the cart and order count from localStorage\nlocalStorage.setItem('count',cartCount);localStorage.setItem('order',orderCount);console.log(cartCount);console.log(orderCount);},[cartCount,orderCount]);// Effect will run whenever cartCount or orderCount change\nconst handleSearch=async e=>{e.preventDefault();if(!searchQuery.trim())return;try{const response=await axios.get(`https://ram.freelogomaker.in/public/api/products/search?search=${searchQuery}`);setSearchResults(response.data);}catch(error){console.error('Error fetching search results:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row bg-secondary py-2 px-xl-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 d-none d-lg-block\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-inline-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted px-2\",children:\"|\"}),/*#__PURE__*/_jsx(\"a\",{className:\"text-dark\",href:\"/contact\",children:\"Contact\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted px-2\",children:\"|\"}),/*#__PURE__*/_jsx(\"a\",{className:\"text-dark\",href:\"#\",children:\"About\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 text-center text-lg-right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-inline-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"text-dark px-2\",href:\"https://www.facebook.com/\",target:\"_blank\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-facebook-f\"})}),/*#__PURE__*/_jsx(\"a\",{className:\"text-dark px-2\",href:\"https://twitter.com/\",target:\"_blank\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-twitter\"})}),/*#__PURE__*/_jsx(\"a\",{className:\"text-dark px-2\",href:\"https://www.linkedin.com/\",target:\"_blank\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-linkedin-in\"})}),/*#__PURE__*/_jsx(\"a\",{className:\"text-dark px-2\",href:\"https://www.instagram.com/\",target:\"_blank\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-instagram\"})}),/*#__PURE__*/_jsx(\"a\",{className:\"text-dark pl-2\",href:\"https://www.youtube.com/\",target:\"_blank\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-youtube\"})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center py-3 px-xl-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3 d-none d-lg-block\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"text-decoration-none\",children:/*#__PURE__*/_jsxs(\"h1\",{className:\"m-0 display-5 font-weight-semi-bold\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-primary font-weight-bold border px-3 mr-1\",children:\"E\"}),\"Shopper\"]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-6 text-left\",children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSearch,children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search for products\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value)}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"input-group-text bg-transparent text-primary\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-search\"})})})]})}),searchResults.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"search-results\",children:/*#__PURE__*/_jsx(\"ul\",{children:searchResults.map(item=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:`/product/${item.id}`,children:item.name})},item.id))})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-3 col-6 text-right\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"/wishlist\",className:\"btn border\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-box-open text-primary\"}),/*#__PURE__*/_jsx(\"span\",{className:\"badge order-badge\",children:orderCount>0?orderCount:''})]}),/*#__PURE__*/_jsxs(\"a\",{href:\"/cart\",className:\"btn border\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-shopping-cart text-primary\"}),/*#__PURE__*/_jsx(\"span\",{className:\"badge cart-badge\",children:cartCount>0?cartCount:''})]})]})]})]});}export default TopBar;","map":{"version":3,"names":["React","useState","useEffect","axios","useCart","jsx","_jsx","jsxs","_jsxs","TopBar","wishlistCount","setWishlistCount","searchQuery","setSearchQuery","searchResults","setSearchResults","cartItems","orderItemsCount","loading","cartCount","length","orderCount","localStorage","setItem","console","log","handleSearch","e","preventDefault","trim","response","get","data","error","className","children","href","target","onSubmit","type","placeholder","value","onChange","map","item","id","name","class"],"sources":["C:/Users/DECENT/Desktop/react/React_shoping_cart/src/Shoping_cart/Header/Topbar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport useCart from '../Fetch/Count'; // Import the custom hook\r\n\r\nfunction TopBar() {\r\n  const [wishlistCount, setWishlistCount] = useState(0);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n\r\n  // Using the custom hook to fetch the cart count and order count\r\n  const { cartItems, orderItemsCount, loading } = useCart();\r\n\r\n  const cartCount = cartItems.length; // Get cart count from the custom hook\r\n  const orderCount = orderItemsCount.length; // Get order count from the custom hook\r\n\r\n  useEffect(() => {\r\n    // Set the cart and order count from localStorage\r\n    localStorage.setItem('count', cartCount);\r\n    localStorage.setItem('order', orderCount);\r\n\r\n    console.log(cartCount);\r\n    console.log(orderCount);\r\n  }, [cartCount, orderCount]); // Effect will run whenever cartCount or orderCount change\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n    if (!searchQuery.trim()) return;\r\n\r\n    try {\r\n      const response = await axios.get(`https://ram.freelogomaker.in/public/api/products/search?search=${searchQuery}`);\r\n      setSearchResults(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching search results:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row bg-secondary py-2 px-xl-5\">\r\n        <div className=\"col-lg-6 d-none d-lg-block\">\r\n          <div className=\"d-inline-flex align-items-center\">\r\n            <span className=\"text-muted px-2\">|</span>\r\n            <a className=\"text-dark\" href=\"/contact\">Contact</a>\r\n            <span className=\"text-muted px-2\">|</span>\r\n            <a className=\"text-dark\" href=\"#\">About</a>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-lg-6 text-center text-lg-right\">\r\n          <div className=\"d-inline-flex align-items-center\">\r\n            <a className=\"text-dark px-2\" href=\"https://www.facebook.com/\" target=\"_blank\">\r\n              <i className=\"fab fa-facebook-f\"></i>\r\n            </a>\r\n            <a className=\"text-dark px-2\" href=\"https://twitter.com/\" target=\"_blank\">\r\n              <i className=\"fab fa-twitter\"></i>\r\n            </a>\r\n            <a className=\"text-dark px-2\" href=\"https://www.linkedin.com/\" target=\"_blank\">\r\n              <i className=\"fab fa-linkedin-in\"></i>\r\n            </a>\r\n            <a className=\"text-dark px-2\" href=\"https://www.instagram.com/\" target=\"_blank\">\r\n              <i className=\"fab fa-instagram\"></i>\r\n            </a>\r\n            <a className=\"text-dark pl-2\" href=\"https://www.youtube.com/\" target=\"_blank\">\r\n              <i className=\"fab fa-youtube\"></i>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row align-items-center py-3 px-xl-5\">\r\n        <div className=\"col-lg-3 d-none d-lg-block\">\r\n          <a href=\"/\" className=\"text-decoration-none\">\r\n            <h1 className=\"m-0 display-5 font-weight-semi-bold\">\r\n              <span className=\"text-primary font-weight-bold border px-3 mr-1\">E</span>Shopper\r\n            </h1>\r\n          </a>\r\n        </div>\r\n        <div className=\"col-lg-6 col-6 text-left\">\r\n          <form onSubmit={handleSearch}>\r\n            <div className=\"input-group\">\r\n              <input \r\n                type=\"text\" \r\n                className=\"form-control\" \r\n                placeholder=\"Search for products\" \r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n              />\r\n              <div className=\"input-group-append\">\r\n                <button type=\"submit\" className=\"input-group-text bg-transparent text-primary\">\r\n                  <i className=\"fa fa-search\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n          {searchResults.length > 0 && (\r\n            <div className=\"search-results\">\r\n              <ul>\r\n                {searchResults.map((item) => (\r\n                  <li key={item.id}><a href={`/product/${item.id}`}>{item.name}</a></li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"col-lg-3 col-6 text-right\">\r\n          <a href=\"/wishlist\" className=\"btn border\">\r\n          <i class=\"fas fa-box-open text-primary\"></i>\r\n              <span className=\"badge order-badge\">{orderCount > 0 ? orderCount : ''}</span> \r\n          </a>\r\n          <a href=\"/cart\" className=\"btn border\">\r\n        <i class=\"fas fa-shopping-cart text-primary\"></i>\r\n            <span className=\"badge cart-badge\">{cartCount > 0 ? cartCount : ''}</span>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TopBar;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,OAAO,KAAM,gBAAgB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtC,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGV,QAAQ,CAAC,CAAC,CAAC,CACrD,KAAM,CAACW,WAAW,CAAEC,cAAc,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACa,aAAa,CAAEC,gBAAgB,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAEtD;AACA,KAAM,CAAEe,SAAS,CAAEC,eAAe,CAAEC,OAAQ,CAAC,CAAGd,OAAO,CAAC,CAAC,CAEzD,KAAM,CAAAe,SAAS,CAAGH,SAAS,CAACI,MAAM,CAAE;AACpC,KAAM,CAAAC,UAAU,CAAGJ,eAAe,CAACG,MAAM,CAAE;AAE3ClB,SAAS,CAAC,IAAM,CACd;AACAoB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEJ,SAAS,CAAC,CACxCG,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEF,UAAU,CAAC,CAEzCG,OAAO,CAACC,GAAG,CAACN,SAAS,CAAC,CACtBK,OAAO,CAACC,GAAG,CAACJ,UAAU,CAAC,CACzB,CAAC,CAAE,CAACF,SAAS,CAAEE,UAAU,CAAC,CAAC,CAAE;AAE7B,KAAM,CAAAK,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CAAChB,WAAW,CAACiB,IAAI,CAAC,CAAC,CAAE,OAEzB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAA3B,KAAK,CAAC4B,GAAG,CAAC,kEAAkEnB,WAAW,EAAE,CAAC,CACjHG,gBAAgB,CAACe,QAAQ,CAACE,IAAI,CAAC,CACjC,CAAE,MAAOC,KAAK,CAAE,CACdT,OAAO,CAACS,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CACxD,CACF,CAAC,CAED,mBACEzB,KAAA,QAAK0B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B3B,KAAA,QAAK0B,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAC5C7B,IAAA,QAAK4B,SAAS,CAAC,4BAA4B,CAAAC,QAAA,cACzC3B,KAAA,QAAK0B,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/C7B,IAAA,SAAM4B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,GAAC,CAAM,CAAC,cAC1C7B,IAAA,MAAG4B,SAAS,CAAC,WAAW,CAACE,IAAI,CAAC,UAAU,CAAAD,QAAA,CAAC,SAAO,CAAG,CAAC,cACpD7B,IAAA,SAAM4B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,GAAC,CAAM,CAAC,cAC1C7B,IAAA,MAAG4B,SAAS,CAAC,WAAW,CAACE,IAAI,CAAC,GAAG,CAAAD,QAAA,CAAC,OAAK,CAAG,CAAC,EACxC,CAAC,CACH,CAAC,cACN7B,IAAA,QAAK4B,SAAS,CAAC,oCAAoC,CAAAC,QAAA,cACjD3B,KAAA,QAAK0B,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/C7B,IAAA,MAAG4B,SAAS,CAAC,gBAAgB,CAACE,IAAI,CAAC,2BAA2B,CAACC,MAAM,CAAC,QAAQ,CAAAF,QAAA,cAC5E7B,IAAA,MAAG4B,SAAS,CAAC,mBAAmB,CAAI,CAAC,CACpC,CAAC,cACJ5B,IAAA,MAAG4B,SAAS,CAAC,gBAAgB,CAACE,IAAI,CAAC,sBAAsB,CAACC,MAAM,CAAC,QAAQ,CAAAF,QAAA,cACvE7B,IAAA,MAAG4B,SAAS,CAAC,gBAAgB,CAAI,CAAC,CACjC,CAAC,cACJ5B,IAAA,MAAG4B,SAAS,CAAC,gBAAgB,CAACE,IAAI,CAAC,2BAA2B,CAACC,MAAM,CAAC,QAAQ,CAAAF,QAAA,cAC5E7B,IAAA,MAAG4B,SAAS,CAAC,oBAAoB,CAAI,CAAC,CACrC,CAAC,cACJ5B,IAAA,MAAG4B,SAAS,CAAC,gBAAgB,CAACE,IAAI,CAAC,4BAA4B,CAACC,MAAM,CAAC,QAAQ,CAAAF,QAAA,cAC7E7B,IAAA,MAAG4B,SAAS,CAAC,kBAAkB,CAAI,CAAC,CACnC,CAAC,cACJ5B,IAAA,MAAG4B,SAAS,CAAC,gBAAgB,CAACE,IAAI,CAAC,0BAA0B,CAACC,MAAM,CAAC,QAAQ,CAAAF,QAAA,cAC3E7B,IAAA,MAAG4B,SAAS,CAAC,gBAAgB,CAAI,CAAC,CACjC,CAAC,EACD,CAAC,CACH,CAAC,EACH,CAAC,cAEN1B,KAAA,QAAK0B,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClD7B,IAAA,QAAK4B,SAAS,CAAC,4BAA4B,CAAAC,QAAA,cACzC7B,IAAA,MAAG8B,IAAI,CAAC,GAAG,CAACF,SAAS,CAAC,sBAAsB,CAAAC,QAAA,cAC1C3B,KAAA,OAAI0B,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eACjD7B,IAAA,SAAM4B,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,GAAC,CAAM,CAAC,UAC3E,EAAI,CAAC,CACJ,CAAC,CACD,CAAC,cACN3B,KAAA,QAAK0B,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvC7B,IAAA,SAAMgC,QAAQ,CAAEZ,YAAa,CAAAS,QAAA,cAC3B3B,KAAA,QAAK0B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B7B,IAAA,UACEiC,IAAI,CAAC,MAAM,CACXL,SAAS,CAAC,cAAc,CACxBM,WAAW,CAAC,qBAAqB,CACjCC,KAAK,CAAE7B,WAAY,CACnB8B,QAAQ,CAAGf,CAAC,EAAKd,cAAc,CAACc,CAAC,CAACU,MAAM,CAACI,KAAK,CAAE,CACjD,CAAC,cACFnC,IAAA,QAAK4B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cACjC7B,IAAA,WAAQiC,IAAI,CAAC,QAAQ,CAACL,SAAS,CAAC,8CAA8C,CAAAC,QAAA,cAC5E7B,IAAA,MAAG4B,SAAS,CAAC,cAAc,CAAI,CAAC,CAC1B,CAAC,CACN,CAAC,EACH,CAAC,CACF,CAAC,CACNpB,aAAa,CAACM,MAAM,CAAG,CAAC,eACvBd,IAAA,QAAK4B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7B7B,IAAA,OAAA6B,QAAA,CACGrB,aAAa,CAAC6B,GAAG,CAAEC,IAAI,eACtBtC,IAAA,OAAA6B,QAAA,cAAkB7B,IAAA,MAAG8B,IAAI,CAAE,YAAYQ,IAAI,CAACC,EAAE,EAAG,CAAAV,QAAA,CAAES,IAAI,CAACE,IAAI,CAAI,CAAC,EAAxDF,IAAI,CAACC,EAAuD,CACtE,CAAC,CACA,CAAC,CACF,CACN,EACE,CAAC,cACNrC,KAAA,QAAK0B,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxC3B,KAAA,MAAG4B,IAAI,CAAC,WAAW,CAACF,SAAS,CAAC,YAAY,CAAAC,QAAA,eAC1C7B,IAAA,MAAGyC,KAAK,CAAC,8BAA8B,CAAI,CAAC,cACxCzC,IAAA,SAAM4B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEd,UAAU,CAAG,CAAC,CAAGA,UAAU,CAAG,EAAE,CAAO,CAAC,EAC9E,CAAC,cACJb,KAAA,MAAG4B,IAAI,CAAC,OAAO,CAACF,SAAS,CAAC,YAAY,CAAAC,QAAA,eACxC7B,IAAA,MAAGyC,KAAK,CAAC,mCAAmC,CAAI,CAAC,cAC7CzC,IAAA,SAAM4B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAEhB,SAAS,CAAG,CAAC,CAAGA,SAAS,CAAG,EAAE,CAAO,CAAC,EACzE,CAAC,EACD,CAAC,EACH,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAV,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}